import React, { useEffect } from 'react'
import { LuArrowLeftToLine } from "react-icons/lu";
import { Link, useLocation } from 'react-router-dom';

function SideBar({ setNotifications, notifications, setDrawer }) {
  const location = useLocation()
  useEffect(()=>{}, [location])

  const logOut = () => {
    localStorage.clear()
    window.location = '/'
  }
  return (
    <div className='bg-white rounded-xl py-8 w-full h-full relative sm:py-5'>
      <div className='flex justify-between items-center px-5 sm:pl-3'>
        <img src={require('../assets/4fb0eb76717e78a33800aab56d778d1e.png')} alt='logo' className='w-[184px]' />
        <span onClick={logOut} className='flex justify-center items-center p-2 bg-lemon rounded-full cursor-pointer'>
          <LuArrowLeftToLine className="text-black-200 text-2xl sm:text-lg" />
        </span>
      </div>
      <nav className='flex flex-col mt-10 justify-start items-start'>
        <Link to='/' onClick={()=>setDrawer(false)} className={`${(location.pathname.length === 1 || location.pathname.startsWith('/app')) && !notifications && 'active'} flex justify-start items-center gap-3 pl-6 pr-40 rounded-r-full py-4 font-Satoshi font-medium text-black-50 text-lg hover:bg-[#F3FAE9] transition-all ease-in duration-150 sm:text-base`}>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 13H11V3H3V13ZM3 21H11V15H3V21ZM13 21H21V11H13V21ZM13 3V9H21V3H13Z" fill="#5B5D58" />
          </svg>
          Home
        </Link>
        <Link to='/chat'  onClick={()=>setDrawer(false)} className={`${location.pathname.startsWith('/chat') && !notifications && 'active'} flex justify-start items-center gap-3 pl-6 pr-[120px] rounded-r-full py-4 font-Satoshi font-medium text-black-50 text-lg hover:bg-[#F3FAE9] transition-all ease-in duration-150 sm:text-base`}>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.6051 4.17007C20.1692 3.73089 19.6503 3.38273 19.0786 3.14583C18.507 2.90892 17.8939 2.78799 17.2751 2.79007H6.70513C6.08576 2.79006 5.47247 2.91222 4.90038 3.14955C4.32828 3.38687 3.80861 3.7347 3.37111 4.17313C2.93362 4.61155 2.58689 5.13196 2.35078 5.70456C2.11467 6.27715 1.99381 6.8907 1.99513 7.51007V14.1101C1.99381 14.7294 2.11467 15.343 2.35078 15.9156C2.58689 16.4882 2.93362 17.0086 3.37111 17.447C3.80861 17.8854 4.32828 18.2333 4.90038 18.4706C5.47247 18.7079 6.08576 18.8301 6.70513 18.8301H9.03513L10.9851 20.7701C11.1121 20.9131 11.2691 21.0251 11.4451 21.1001C11.6201 21.1721 11.8061 21.2101 11.9951 21.2101C12.1841 21.2081 12.3701 21.1701 12.5451 21.1001C12.7084 21.0227 12.8573 20.9178 12.9851 20.7901L14.9851 18.7901H17.3151C17.9338 18.791 18.5465 18.6696 19.118 18.4328C19.6895 18.1959 20.2085 17.8483 20.6451 17.4101C21.0734 16.9688 21.4129 16.4494 21.6451 15.8801C21.8791 15.3051 22.0021 14.6901 22.0051 14.0701V7.47007C22.0006 6.85491 21.8746 6.2467 21.6344 5.68039C21.3941 5.11407 21.0443 4.6008 20.6051 4.17007ZM7.36513 12.3401C7.03681 12.3401 6.71587 12.2427 6.44288 12.0603C6.1699 11.8779 5.95713 11.6186 5.83149 11.3153C5.70585 11.012 5.67297 10.6782 5.73702 10.3562C5.80108 10.0342 5.95918 9.73842 6.19133 9.50627C6.42349 9.27411 6.71927 9.11601 7.04128 9.05196C7.36329 8.98791 7.69706 9.02078 8.00038 9.14643C8.30371 9.27207 8.56296 9.48483 8.74537 9.75782C8.92777 10.0308 9.02513 10.3517 9.02513 10.6801C9.0225 11.1195 8.84677 11.5402 8.53603 11.851C8.22528 12.1617 7.80458 12.3374 7.36513 12.3401ZM11.9951 12.3401C11.7771 12.3401 11.5613 12.2971 11.3599 12.2137C11.1585 12.1303 10.9755 12.008 10.8213 11.8539C10.6672 11.6997 10.5449 11.5167 10.4615 11.3153C10.3781 11.1139 10.3351 10.8981 10.3351 10.6801C10.3351 10.4621 10.3781 10.2462 10.4615 10.0448C10.5449 9.84341 10.6672 9.66041 10.8213 9.50627C10.9755 9.35212 11.1585 9.22985 11.3599 9.14643C11.5613 9.063 11.7771 9.02007 11.9951 9.02007C12.4354 9.02007 12.8576 9.19496 13.1689 9.50627C13.4802 9.81758 13.6551 10.2398 13.6551 10.6801C13.6551 11.1203 13.4802 11.5426 13.1689 11.8539C12.8576 12.1652 12.4354 12.3401 11.9951 12.3401ZM16.6151 12.3401C16.2868 12.3401 15.9659 12.2427 15.6929 12.0603C15.4199 11.8779 15.2071 11.6186 15.0815 11.3153C14.9558 11.012 14.923 10.6782 14.987 10.3562C15.0511 10.0342 15.2092 9.73842 15.4413 9.50627C15.6735 9.27411 15.9693 9.11601 16.2913 9.05196C16.6133 8.98791 16.9471 9.02078 17.2504 9.14643C17.5537 9.27207 17.813 9.48483 17.9954 9.75782C18.1778 10.0308 18.2751 10.3517 18.2751 10.6801C18.2725 11.1195 18.0968 11.5402 17.786 11.851C17.4753 12.1617 17.0546 12.3374 16.6151 12.3401Z" fill="#5B5D58" />
          </svg>
          Messaging
        </Link>
        <div onClick={()=> {setNotifications(true); setDrawer(false)}} className={`${notifications && 'active'} cursor-pointer flex justify-start items-center gap-3 pl-6 pr-28 rounded-r-full py-4 font-Satoshi font-medium text-black-50 text-lg hover:bg-[#F3FAE9] transition-all ease-in duration-150 sm:text-base`}>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_20_159)">
              <path d="M11.9997 2C10.1432 2 8.36269 2.7375 7.04994 4.05025C5.73718 5.36301 4.99969 7.14348 4.99969 9V12.528C4.99983 12.6831 4.96388 12.8362 4.89469 12.975L3.17769 16.408C3.09381 16.5757 3.05421 16.7621 3.06263 16.9494C3.07106 17.1368 3.12724 17.3188 3.22583 17.4783C3.32442 17.6379 3.46216 17.7695 3.62595 17.8608C3.78975 17.9521 3.97416 18 4.16169 18H19.8377C20.0252 18 20.2096 17.9521 20.3734 17.8608C20.5372 17.7695 20.6749 17.6379 20.7735 17.4783C20.8721 17.3188 20.9283 17.1368 20.9367 16.9494C20.9452 16.7621 20.9056 16.5757 20.8217 16.408L19.1057 12.975C19.0361 12.8362 18.9999 12.6832 18.9997 12.528V9C18.9997 7.14348 18.2622 5.36301 16.9494 4.05025C15.6367 2.7375 13.8562 2 11.9997 2ZM11.9997 21C11.3791 21.0002 10.7737 20.8079 10.2668 20.4498C9.76001 20.0916 9.3767 19.5851 9.16969 19H14.8297C14.6227 19.5851 14.2394 20.0916 13.7325 20.4498C13.2257 20.8079 12.6203 21.0002 11.9997 21Z" fill="#5B5D58" />
            </g>
            <defs>
              <clipPath id="clip0_20_159">
                <rect width="24" height="24" fill="white" />
              </clipPath>
            </defs>
          </svg>
          Notification
        </div>
        <Link to='/faqs'  onClick={()=>setDrawer(false)} className={`${location.pathname.startsWith('/faqs') && !notifications && 'active'} flex justify-start items-center gap-3 pl-6 pr-[165px] rounded-r-full py-4 font-Satoshi font-medium text-black-50 text-lg hover:bg-[#F3FAE9] transition-all ease-in duration-150 sm:text-base`}>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_20_165)">
              <path d="M12 0C10.4308 0 9.23077 1.2 9.23077 2.76923V8.30769C9.23077 9.87692 10.4308 11.0769 12 11.0769H17.5385L21.2308 14.7692V11.0769C22.8 11.0769 24 9.87692 24 8.30769V2.76923C24 1.2 22.8 0 21.2308 0H12ZM15.8658 2.76923H17.4517L19.0098 8.30769H17.6252L17.2495 6.92308H15.8649L15.5197 8.30769H14.3077L15.8658 2.76923ZM16.6154 3.69231C16.5231 4.06154 16.4197 4.512 16.3265 4.78892L16.068 6H17.1637L16.9034 4.788C16.7197 4.512 16.6154 4.06154 16.6154 3.69231ZM2.76923 9.23077C1.2 9.23077 0 10.4308 0 12V17.5385C0 19.1077 1.2 20.3077 2.76923 20.3077V24L6.46154 20.3077H12C13.5692 20.3077 14.7692 19.1077 14.7692 17.5385V12H12C10.2462 12 8.856 10.8 8.39446 9.23077H2.76923ZM7.00985 11.9132C8.57908 11.9132 9.31754 13.2055 9.31754 14.6825C9.31754 15.9748 8.87354 16.7945 8.13508 17.1637C8.50431 17.3483 8.94185 17.4462 9.40338 17.5385L9.05815 18.4615C8.412 18.2769 7.74185 17.9889 7.09569 17.7111C7.00338 17.6188 6.84185 17.6252 6.74954 17.6252C5.64185 17.5329 4.61538 16.6154 4.61538 14.7692C4.61538 13.2 5.53292 11.9132 7.00985 11.9132ZM7.00985 12.9231C6.27138 12.9231 5.91323 13.7538 5.91323 14.7692C5.91323 15.8769 6.27138 16.6154 7.00985 16.6154C7.74831 16.6154 8.13415 15.7846 8.13415 14.7692C8.13415 13.7538 7.74831 12.9231 7.00985 12.9231Z" fill="#5B5D58" />
            </g>
            <defs>
              <clipPath id="clip0_20_165">
                <rect width="24" height="24" fill="white" />
              </clipPath>
            </defs>
          </svg>
          FAQs
        </Link>
        <Link to='/get-help'  onClick={()=>setDrawer(false)} className={`${location.pathname.startsWith('/get-help') && !notifications && 'active'} flex justify-start items-center gap-3 pl-6 pr-[133px] rounded-r-full py-4 font-Satoshi font-medium text-black-50 text-lg hover:bg-[#F3FAE9] transition-all ease-in duration-150 sm:text-base`}>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.95 18C12.3 18 12.596 17.879 12.838 17.637C13.08 17.395 13.2007 17.0993 13.2 16.75C13.2 16.4 13.0793 16.104 12.838 15.862C12.5967 15.62 12.3007 15.4993 11.95 15.5C11.6 15.5 11.3043 15.621 11.063 15.863C10.8217 16.105 10.7007 16.4007 10.7 16.75C10.7 17.1 10.821 17.396 11.063 17.638C11.305 17.88 11.6007 18.0007 11.95 18ZM11.05 14.15H12.9C12.9 13.6 12.9627 13.1667 13.088 12.85C13.2133 12.5333 13.5673 12.1 14.15 11.55C14.5833 11.1167 14.925 10.704 15.175 10.312C15.425 9.92 15.55 9.44933 15.55 8.9C15.55 7.96667 15.2083 7.25 14.525 6.75C13.8417 6.25 13.0333 6 12.1 6C11.15 6 10.3793 6.25 9.788 6.75C9.19667 7.25 8.784 7.85 8.55 8.55L10.2 9.2C10.2833 8.9 10.471 8.575 10.763 8.225C11.055 7.875 11.5007 7.7 12.1 7.7C12.6333 7.7 13.0333 7.846 13.3 8.138C13.5667 8.43 13.7 8.75067 13.7 9.1C13.7 9.43333 13.6 9.746 13.4 10.038C13.2 10.33 12.95 10.6007 12.65 10.85C11.9167 11.5 11.4667 11.9917 11.3 12.325C11.1333 12.6583 11.05 13.2667 11.05 14.15ZM12 22C10.6167 22 9.31667 21.7377 8.1 21.213C6.88333 20.6883 5.825 19.9757 4.925 19.075C4.025 18.175 3.31267 17.1167 2.788 15.9C2.26333 14.6833 2.00067 13.3833 2 12C2 10.6167 2.26267 9.31667 2.788 8.1C3.31333 6.88333 4.02567 5.825 4.925 4.925C5.825 4.025 6.88333 3.31267 8.1 2.788C9.31667 2.26333 10.6167 2.00067 12 2C13.3833 2 14.6833 2.26267 15.9 2.788C17.1167 3.31333 18.175 4.02567 19.075 4.925C19.975 5.825 20.6877 6.88333 21.213 8.1C21.7383 9.31667 22.0007 10.6167 22 12C22 13.3833 21.7373 14.6833 21.212 15.9C20.6867 17.1167 19.9743 18.175 19.075 19.075C18.175 19.975 17.1167 20.6877 15.9 21.213C14.6833 21.7383 13.3833 22.0007 12 22Z" fill="#5B5D58" />
          </svg>
          Get Help
        </Link>
        <Link to='/settings'  onClick={()=>setDrawer(false)} className={`${location.pathname.startsWith('/settings') && !notifications && 'active'} flex justify-start items-center gap-3 pl-6 pr-[136px] rounded-r-full py-4 font-Satoshi font-medium text-black-50 text-lg hover:bg-[#F3FAE9] transition-all ease-in duration-150 sm:text-base`}>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2793 2.152C13.9093 2 13.4393 2 12.5003 2C11.5613 2 11.0923 2 10.7213 2.152C10.2288 2.35421 9.8367 2.74377 9.63132 3.235C9.53732 3.458 9.50132 3.719 9.48632 4.098C9.47965 4.3726 9.40305 4.64097 9.26376 4.87772C9.12448 5.11447 8.92711 5.31178 8.69032 5.451C8.44906 5.5851 8.17786 5.65615 7.90184 5.65754C7.62582 5.65894 7.35392 5.59065 7.11132 5.459C6.77332 5.281 6.52832 5.183 6.28632 5.151C5.75687 5.08148 5.22139 5.2238 4.79632 5.547C4.47832 5.789 4.24332 6.193 3.77432 7C3.30432 7.807 3.07032 8.21 3.01732 8.605C2.94732 9.131 3.09132 9.663 3.41732 10.084C3.56532 10.276 3.77432 10.437 4.09732 10.639C4.57432 10.936 4.88032 11.442 4.88032 12C4.88032 12.558 4.57432 13.064 4.09832 13.36C3.77432 13.563 3.56532 13.724 3.41632 13.916C3.2554 14.1239 3.13728 14.3617 3.0688 14.6156C3.00031 14.8694 2.98282 15.1343 3.01732 15.395C3.07032 15.789 3.30432 16.193 3.77432 17C4.24432 17.807 4.47832 18.21 4.79632 18.453C5.22032 18.776 5.75632 18.918 6.28632 18.849C6.52832 18.817 6.77332 18.719 7.11132 18.541C7.35404 18.4092 7.62613 18.3408 7.90234 18.3422C8.17855 18.3436 8.44994 18.4147 8.69132 18.549C9.17732 18.829 9.46532 19.344 9.48632 19.902C9.50132 20.282 9.53732 20.542 9.63132 20.765C9.83532 21.255 10.2273 21.645 10.7213 21.848C11.0913 22 11.5613 22 12.5003 22C13.4393 22 13.9093 22 14.2793 21.848C14.7719 21.6458 15.1639 21.2562 15.3693 20.765C15.4633 20.542 15.4993 20.282 15.5143 19.902C15.5343 19.344 15.8233 18.828 16.3103 18.549C16.5516 18.4149 16.8228 18.3439 17.0988 18.3425C17.3748 18.3411 17.6467 18.4093 17.8893 18.541C18.2273 18.719 18.4723 18.817 18.7143 18.849C19.2443 18.919 19.7803 18.776 20.2043 18.453C20.5223 18.211 20.7573 17.807 21.2263 17C21.6963 16.193 21.9303 15.79 21.9833 15.395C22.0177 15.1343 22 14.8693 21.9314 14.6155C21.8627 14.3616 21.7444 14.1239 21.5833 13.916C21.4353 13.724 21.2263 13.563 20.9033 13.361C20.4263 13.064 20.1203 12.558 20.1203 12C20.1203 11.442 20.4263 10.936 20.9023 10.64C21.2263 10.437 21.4353 10.276 21.5843 10.084C21.7452 9.87606 21.8633 9.63829 21.9318 9.38443C22.0003 9.13057 22.0178 8.86566 21.9833 8.605C21.9303 8.211 21.6963 7.807 21.2263 7C20.7563 6.193 20.5223 5.79 20.2043 5.547C19.7792 5.2238 19.2438 5.08148 18.7143 5.151C18.4723 5.183 18.2273 5.281 17.8893 5.459C17.6466 5.59083 17.3745 5.65922 17.0983 5.65782C16.8221 5.65642 16.5507 5.58528 16.3093 5.451C16.0727 5.31166 15.8755 5.11429 15.7364 4.87755C15.5973 4.64081 15.5209 4.37251 15.5143 4.098C15.4993 3.718 15.4633 3.458 15.3693 3.235C15.2677 2.99174 15.1191 2.77088 14.9321 2.58506C14.745 2.39923 14.5232 2.25208 14.2793 2.152ZM12.5003 15C14.1703 15 15.5233 13.657 15.5233 12C15.5233 10.343 14.1693 9 12.5003 9C10.8303 9 9.47732 10.343 9.47732 12C9.47732 13.657 10.8313 15 12.5003 15Z" fill="#5B5D58" />
          </svg>
          Settings
        </Link>
      </nav>

      <div className='flex justify-start absolute left-3 bottom-5 gap-2 items-center'>
        <img src={localStorage.getItem('userImage') || ''} alt='user' className='w-[45px] h-[45px] rounded-full object-cover'/>
        <span>
            <h1 className='capitalize text-black-200 font-Satoshi font-bold text-base sm:text-sm'>{localStorage.getItem('userName') || ''}</h1>
            <h1 className='text-black-40 font-Satoshi font-bold text-[12px] lowercase sm:text-sm'>{localStorage.getItem('userEmail')?.substr(0, 22) || ''}</h1>
        </span>
      </div>
    </div>
  )
}

export default SideBar
